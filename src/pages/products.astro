---
import Layout from '../layouts/Layout.astro';
import data from '../../public/data.json';
import '../../assets/scss/astro-ecommerce.scss';
import Navbar from '../components/navbar';
import ComplexNavbar from '../components/complexNavbar';
import ComplexNavbarDark from '../components/complexNavbarDark';
import Footer from '../components/footer';
import ComplexFooter from '../components/complexFooter';
import CardProduct from '../components/products/cardProduct';
import CardCategory from '../components/products/cardCategory';
import ProductOverviewGrid from '../components/products/productOverviewGrid';
import ProductOverviewGallery from '../components/products/productOverviewGallery';
import ProductQuickview from '../components/products/productQuickview';
import ProductQuickview2 from '../components/products/productQuickview2';
import ProductFeature from '../components/products/productFeature';
import ProductFeature2 from '../components/products/productFeature2';
import CategoryFilters from '../components/products/categoryFilters';
import TestimonialsFade from '../components/promo/testimonialsFade';
import PromoSectionLarge from '../components/promo/promoSectionLarge';
import ReviewSimple from '../components/reviews/reviewSimple';
import ReviewSummaryChart from '../components/reviews/reviewSummaryChart';

// filter reviews with ID 01
let productReviews = data.reviews.filter(x => x.productID == "01");

let orderProducts = [];

data.orders[0].products.forEach(productDetails => {
  data.products.forEach(product => {
    if (product.id == productDetails.id) {
      orderProducts.push(product);
    }
  });
})

let orderHistoryProducts = new Set();

data.orders.forEach((order) => {
  order.products.forEach(productDetails => {
    data.products.forEach(product => {
      if (product.id == productDetails.id) {
        orderHistoryProducts.add(product);
      }
    });
  })
})

---

<script>
  function toggleHeart(e) {
    e.target.classList.toggle('fas');
    e.target.classList.toggle('far');
    e.target.classList.toggle('text-danger');
  }

  document.getElementById('heart1').addEventListener("click", toggleHeart);
</script>

<Layout title="Product List">
	<main>
    <Navbar />
    <div class="container mt-5">
      <h3>Product List</h3>
      <!-- <p>Components and blocks for Product Lists</p> -->
      <div class="row mt-5">
        {data.products.map(product =>
          <div class="col-md-6 col-lg-3">
            <CardProduct
              thumb_src = {product.thumb_src}
              thumb_alt = {product.thumb_alt}
              title = {product.title}
              description = {product.description}
              position = "center"
            />
          </div>
        )}
      </div>

      <!-- copy of the above component for future reference -->
      <!-- <h3>Product List</h3> -->
      <!-- <!-- <p>Components and blocks for Product Lists</p> -->
      <!-- <div class="row mt-5"> -->
      <!--   {data.products.map(product => -->
      <!--     <div class="col-md-6 col-lg-3"> -->
      <!--       <CardProduct -->
      <!--         thumb_src = {product.thumb_src} -->
      <!--         thumb_alt = {product.thumb_alt} -->
      <!--         color = {product.color} -->
      <!--         colors = {product.colors} -->
      <!--         title = {product.title} -->
      <!--         description = {product.description} -->
      <!--         price = {product.price} -->
      <!--         position = "center" -->
      <!--       /> -->
      <!--     </div> -->
      <!--   )} -->
      <!-- </div> -->
      <!---->

      <!-- <div class="my-10"> -->
      <!--   <h3>Simple Footer</h3> -->
      <!--   <Footer /> -->
      <!---->
      <!--   <h3 class="mt-8">Complex Footer</h3> -->
      <!--   <ComplexFooter /> -->
      <!-- </div> -->

     <Footer />
    </div>
	</main>
</Layout>
